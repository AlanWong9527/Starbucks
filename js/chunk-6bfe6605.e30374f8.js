(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6bfe6605"],{1276:function(t,e,a){"use strict";var i=a("d784"),n=a("44e7"),s=a("825a"),r=a("1d80"),o=a("4840"),l=a("8aa5"),u=a("50c4"),c=a("14c3"),d=a("9263"),f=a("d039"),g=[].push,h=Math.min,p=4294967295,m=!f((function(){return!RegExp(p,"y")}));i("split",2,(function(t,e,a){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var i=String(r(this)),s=void 0===a?p:a>>>0;if(0===s)return[];if(void 0===t)return[i];if(!n(t))return e.call(i,t,s);var o,l,u,c=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,m=new RegExp(t.source,f+"g");while(o=d.call(m,i)){if(l=m.lastIndex,l>h&&(c.push(i.slice(h,o.index)),o.length>1&&o.index<i.length&&g.apply(c,o.slice(1)),u=o[0].length,h=l,c.length>=s))break;m.lastIndex===o.index&&m.lastIndex++}return h===i.length?!u&&m.test("")||c.push(""):c.push(i.slice(h)),c.length>s?c.slice(0,s):c}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var n=r(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,n,a):i.call(String(n),e,a)},function(t,n){var r=a(i,t,this,n,i!==e);if(r.done)return r.value;var d=s(t),f=String(this),g=o(d,RegExp),v=d.unicode,x=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(m?"y":"g"),I=new g(m?d:"^(?:"+d.source+")",x),y=void 0===n?p:n>>>0;if(0===y)return[];if(0===f.length)return null===c(I,f)?[f]:[];var $=0,k=0,b=[];while(k<f.length){I.lastIndex=m?k:0;var C,S=c(I,m?f:f.slice(k));if(null===S||(C=h(u(I.lastIndex+(m?0:k)),f.length))===$)k=l(f,k,v);else{if(b.push(f.slice($,k)),b.length===y)return b;for(var O=1;O<=S.length-1;O++)if(b.push(S[O]),b.length===y)return b;k=$=C}}return b.push(f.slice($)),b}]}),!m)},"4c41":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my"},[a("div",{staticClass:"my-bg",style:{backgroundImage:"url('"+t.userInfo.userBg+"')"}},[a("van-uploader",{staticClass:"upload-box",attrs:{"after-read":t.uploadBg}})],1),a("div",{staticClass:"my-info"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"fl my-img"},[a("img",{staticClass:"auto-img",attrs:{src:t.userInfo.userImg,alt:""}}),a("van-uploader",{staticClass:"upload-box",attrs:{"after-read":t.uploadUserImg}})],1),a("div",{staticClass:"fl my-info-box"},[a("div",{staticClass:"user-name"},[t._v(t._s(t.userInfo.nickName))]),a("div",{staticClass:"user-desc"},[t._v(" "+t._s(""==t.userInfo.desc?"这家伙很懒，什么也没有留下！":t.userInfo.desc)+" ")])])]),a("div",{staticClass:"list-box"},t._l(t.listData,(function(e,i){return a("van-cell",{key:i,attrs:{title:e.title,"is-link":""},on:{click:function(a){return t.goPage(e.name)}}})})),1)])])},n=[],s=(a("c975"),a("a15b"),a("ac1f"),a("5319"),a("1276"),a("619a"),{name:"My",data:function(){return{listData:[{title:"个人资料",name:"Account"},{title:"我的订单",name:"Order"},{title:"我的收藏",name:"Like"},{title:"地址管理",name:"Address"},{title:"安全中心",name:"Secure"}],userInfo:{}}},created:function(){this.getUserInfo()},methods:{getUserInfo:function(){var t=this,e=localStorage.getItem("__tk");if(!e)return this.$toast("请先登录"),this.$router.push({name:"Login"});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"/findMy",params:{appkey:this.appkey,tokenString:e}}).then((function(e){t.$toast.clear(),700==e.data.code?t.$router.push({name:"Login"}):"A001"==e.data.code&&(t.userInfo=e.data.result[0])})).catch((function(e){t.$toast.clear()}))},uploadBg:function(t){var e=this,a=["gif","png","jpg","jpeg"],i=1,n=t.file.type.split("/")[1];if(-1!==a.indexOf(n)){var s=t.file.size/1024/1024;if(s>i)this.$toast("文件允许最大不能超过".concat(i,"MB"));else{var r=t.content.replace(/^data:image\/[A-Za-z]+;base64,/,""),o=localStorage.getItem("__tk");if(!o)return this.$toast("请先登录"),this.$router.push({name:"Login"});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/updateUserBg",data:{appkey:this.appkey,tokenString:o,imgType:n,serverBase64Img:r}}).then((function(t){e.$toast.clear(),700==t.data.code?e.$router.push({name:"Login"}):"I001"==t.data.code&&(e.userInfo.userBg=t.data.userBg),e.$toast(t.data.msg)})).catch((function(t){e.$toast.clear()}))}}else this.$toast("文件类型只支持".concat(a.join(",")))},uploadUserImg:function(t){var e=this,a=["gif","png","jpg","jpeg"],i=1,n=t.file.type.split("/")[1];if(-1!==a.indexOf(n)){var s=t.file.size/1024/1024;if(s>i)this.$toast("文件允许最大不能超过".concat(i,"MB"));else{var r=t.content.replace(/^data:image\/[A-Za-z]+;base64,/,""),o=localStorage.getItem("__tk");if(!o)return this.$toast("请先登录"),this.$router.push({name:"Login"});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"POST",url:"/updateAvatar",data:{appkey:this.appkey,tokenString:o,imgType:n,serverBase64Img:r}}).then((function(t){e.$toast.clear(),700==t.data.code?e.$router.push({name:"Login"}):"H001"==t.data.code&&(e.userInfo.userImg=t.data.userImg),e.$toast(t.data.msg)})).catch((function(t){e.$toast.clear(),e.$toast(result.data.msg)}))}}else this.$toast("文件类型只支持".concat(a.join(",")))},goPage:function(t){this.$router.push({name:t})}}}),r=s,o=a("2877"),l=Object(o["a"])(r,i,n,!1,null,null,null);e["default"]=l.exports},"619a":function(t,e,a){},a15b:function(t,e,a){"use strict";var i=a("23e7"),n=a("44ad"),s=a("fc6a"),r=a("a640"),o=[].join,l=n!=Object,u=r("join",",");i({target:"Array",proto:!0,forced:l||!u},{join:function(t){return o.call(s(this),void 0===t?",":t)}})},a640:function(t,e,a){"use strict";var i=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&i((function(){a.call(null,e||function(){throw 1},1)}))}},c975:function(t,e,a){"use strict";var i=a("23e7"),n=a("4d64").indexOf,s=a("a640"),r=a("ae40"),o=[].indexOf,l=!!o&&1/[1].indexOf(1,-0)<0,u=s("indexOf"),c=r("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:l||!u||!c},{indexOf:function(t){return l?o.apply(this,arguments)||0:n(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-6bfe6605.e30374f8.js.map